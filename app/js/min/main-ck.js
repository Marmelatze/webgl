require({baseUrl:"js",shim:{"vendor/three":{exports:"THREE"},"vendor/TrackballControls":{deps:["vendor/three"],exports:"THREE"}}},["vendor/three","vendor/TrackballControls"],function(e){function o(){t=new e.PerspectiveCamera(30,window.innerWidth/window.innerHeight,1,5e3),t.position.set(0,0,1800),n=new e.Scene,n.fog=new e.Fog(16777215,1,5e3),n.fog.color.setHSL(.6,0,1),r=new e.TrackballControls(t),r.rotateSpeed=1,r.zoomSpeed=1.2,r.panSpeed=.8,r.noZoom=!1,r.noPan=!1,r.staticMoving=!0,r.dynamicDampingFactor=.15;var o=new e.HemisphereLight(16777215,16777215,.6);o.color.setHSL(.6,1,.6),o.groundColor.setHSL(.095,1,.75),o.position.set(0,400,0),n.add(o);var a=new e.DirectionalLight(16777215,1);a.color.setHSL(.1,1,.95),a.position.set(180,100,100),n.add(a),a.castShadow=!0,a.shadowMapWidth=2048,a.shadowMapHeight=2048;var h=50;a.shadowCameraLeft=-h,a.shadowCameraRight=h,a.shadowCameraTop=h,a.shadowCameraBottom=-h,a.shadowCameraFar=1e3,a.shadowBias=-1e-4,a.shadowDarkness=.35,a.shadowCameraVisible=!0;var w=new e.PlaneGeometry(1e4,1e4),m=new e.MeshPhongMaterial({ambient:16777215,color:16777215,specular:328965});m.color.setHSL(.095,1,.75);var c=new e.Mesh(w,m);c.rotation.x=-Math.PI/2,c.position.y=-33,n.add(c),c.receiveShadow=!0;var p=document.getElementById("vertexShader").textContent,v=document.getElementById("fragmentShader").textContent,C={topColor:{type:"c",value:new e.Color(30719)},bottomColor:{type:"c",value:new e.Color(16777215)},offset:{type:"f",value:66},exponent:{type:"f",value:.6}};C.topColor.value.copy(o.color),n.fog.color.copy(C.bottomColor.value);var u=new e.SphereGeometry(1e3,32,15),g=new e.ShaderMaterial({vertexShader:p,fragmentShader:v,uniforms:C,side:e.BackSide}),S=new e.Mesh(u,g);n.add(S),i=new e.CubeGeometry(150,150,150),s=new e.MeshBasicMaterial({color:10331306,wireframe:!1}),l=new e.Mesh(i,s),l.position.set(0,100,500),l.castShadow=!0,l.receiveShadow=!0,n.add(l);var f=new e.WireframeHelper(l,0);f.material.linewidth=2,n.add(f),d=new e.WebGLRenderer({antialias:!0}),d.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(d.domElement),d.setClearColor(n.fog.color,1),d.gammaInput=!0,d.gammaOutput=!0,d.shadowMapEnabled=!0,d.shadowMapCullFace=e.CullFaceBack}function a(){requestAnimationFrame(a),l.rotation.x+=.01,l.rotation.y+=.02,r.update(),d.render(n,t)}var t,r,n,d,i,s,l;o(),a()});